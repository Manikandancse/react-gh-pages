(this.webpackJsonpRapidWifi=this.webpackJsonpRapidWifi||[]).push([[28],{644:function(e,a,t){"use strict";var n=t(162),l=t.n(n);a.a=l.a.create({baseURL:"https://thilagaraj.me/rapidwifi-api/webapi/"})},712:function(e,a,t){"use strict";t.r(a);var n=t(163),l=t(158),r=t(159),o=t(161),c=t(160),s=t(1),i=t.n(s),u=t(644),m=t(642),d=t(643),h=t(162),p=t.n(h),g=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=a.call(this,e)).handleCancel=function(){r.props.history.push("/connections")},r.handleSubmit=function(){var e=r.state,a=e.customer_id,t=e.plan_name,n=e.plan_doj,l=e.plan_amount,o=e.subtotal,c=e.router_charge,s=e.installation_charge,i=e.advance_planamount,m=e.advance_installationamount,d=e.advance_routeramount,h=e.discount,p=e.balance_amount,g=e.advance_amount,_=e.total,E=e.plan_gst,v=e.router_gst,b=e.installation_gst;a&&t&&n&&l&&o&&c&&s&&i&&m&&d&&h&&p&&g&&_&&E&&v&&b?u.a.post("/addconnections",{userId:1,customer_id:a,plan_id:t,connection_date:n,plan_amount:l,plan_gst_id:E,installation_gst_id:b,router_gst_id:v,subtotal:o,router_charge:c,installation_charge:s,plan_gst:E,router_gst:v,installation_gst:b,advance_planamount:i,advance_installationamount:m,advance_routeramount:d,discount:h,balance_amount:p,advance_amount:g,total:_,status:1}).then((function(){r.props.history.push("/connections")})).catch((function(e){alert("Error Try again",e)})):alert("Please fill all the details")},r.getChargeAmount=function(e,a,t){var n=e.find((function(e){return e.id===t}));return n?n[a]:0},r.totalCalculation=function(e,a,t){return!1===r.state.if_router_available?parseInt(e)+parseInt(a)+parseInt(t):parseInt(e)+parseInt(a)},r.getGrantTotal=function(){var e=r.state,a=e.instllation_list,t=e.router_list,n=e.installation_charge,l=e.plan_amount,o=e.router_charge,c=e.gst,s=e.gst_list,i=e.discount,u=e.if_router_available,m=e.advance_planamount,d=e.advance_installationamount,h=e.advance_routeramount,p=e.plan_gst,g=e.router_gst,_=e.installation_gst,E=r.getChargeAmount(s,"gst_percent",p),v=r.getChargeAmount(s,"gst_percent",g),b=r.getChargeAmount(s,"gst_percent",_),C=r.getChargeAmount(a,"installation_amount",n),f=r.getChargeAmount(t,"router_amount",o),x=E?parseInt(l)/100*E:0,y=v?parseInt(f)/100*v:0,I=b?parseInt(C)/100*b:0;x=parseInt(x)+parseInt(l),y=parseInt(y)+parseInt(f),I=parseInt(I)+parseInt(C),console.log("plnWthGst",x,y,I,E,r.state);var S=r.totalCalculation(I,x,y),K=(S=parseInt(S))/100*parseInt(i);K=S-parseInt(K),K=parseInt(K);var U=r.getChargeAmount(s,"gst_percent",c),F=c?K/100*parseInt(U):0;F=K+parseInt(F),F=parseInt(F);var T=parseInt(m)+parseInt(d)+(!1===u?parseInt(h):0);r.setState({subtotal:S,total:F,advance_amount:T,balance_amount:F-T})},r.handleUserChange=function(e){var a=e.target,t=a.name,l=a.value;"plan_name"===t?u.a.get("/listplan/".concat(l)).then((function(e){var a,o=e.data.plan_amount;r.setState((a={},Object(n.a)(a,t,l),Object(n.a)(a,"plan_amount",o),a),(function(){r.getGrantTotal()}))})).catch((function(e){console.log("err",e)})):"if_router_available"===t?r.setState(Object(n.a)({},t,!!e.target.checked),(function(){r.getGrantTotal()})):r.setState(Object(n.a)({},t,l),(function(){r.getGrantTotal()}))},r.state={customer_list:[],plan_list:[],gst_list:[],gst:0,customer_id:"",plan_name:"",plan_doj:"",instllation_list:[],plan_amount:0,router_list:[],installation_charge:0,router_charge:0,plan_gst:0,router_gst:0,installation_gst:0,advance_installationamount:0,advance_planamount:0,advance_routeramount:0,discount:0,subtotal:0,total:0,bill:0,if_router_available:!1},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=u.a.get("/listuser"),t=u.a.get("/listplan"),n=u.a.get("/listgst"),l=u.a.get("/listinstallation"),r=u.a.get("/listroutercharges");p.a.all([a,t,n,l,r]).then(p.a.spread((function(){var a=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3],r=arguments.length<=4?void 0:arguments[4];e.setState({customer_list:a.data,plan_list:t.data.results,gst_list:n.data.results,instllation_list:l.data.results,router_list:r.data.results}),console.log("aa",a,t)}))).catch((function(e){console.log("err",e)}))}},{key:"render",value:function(){var e=this.state,a=e.customer_id,t=e.plan_id,n=e.plan_doj,l=e.plan_amount,r=e.gst_list,o=e.subtotal,c=e.customer_list,s=e.plan_list,u=e.instllation_list,h=e.router_list,p=e.router_charge,g=e.installation_charge,_=e.advance_planamount,E=e.advance_installationamount,v=e.advance_routeramount,b=e.discount,C=e.balance_amount,f=e.advance_amount,x=e.total,y=e.if_router_available,I=e.plan_gst,S=e.router_gst,K=e.installation_gst;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.wb,null,i.a.createElement(m.u,{xs:"12",md:"10"},i.a.createElement(m.j,null,i.a.createElement(m.n,null,"Customer Add",i.a.createElement("small",null," Form")),i.a.createElement(m.k,null,i.a.createElement(m.J,{action:"",method:"post",className:"form-horizontal"},i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{md:"3"},i.a.createElement(m.cb,{htmlFor:"customer-name"},"Customer Name")),i.a.createElement(m.u,{xs:"12",md:"9"},i.a.createElement(m.xb,{custom:!0,name:"customer_id",onChange:this.handleUserChange,value:a,id:"customer-name"},i.a.createElement("option",{value:""},"Please select Customer"),c&&c.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.customer_id," ").concat(e.customer_name))}))))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{md:"3"},i.a.createElement(m.cb,{htmlFor:"plan-name"},"Plan Name")),i.a.createElement(m.u,{xs:"12",md:"9"},i.a.createElement(m.xb,{custom:!0,name:"plan_name",onChange:this.handleUserChange,value:t,id:"plan-name"},i.a.createElement("option",{value:""},"Please select Plan"),s&&s.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.plan_id," ").concat(e.plan_amount))}))))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{md:"3"},i.a.createElement(m.cb,{htmlFor:"plan-doj"},"Date")),i.a.createElement(m.u,{xs:"12",md:"9"},i.a.createElement(m.S,{type:"date",id:"plan-doj",name:"plan_doj",onChange:this.handleUserChange,value:n,placeholder:"date"}))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{xs:"2"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"plan-amount"},"Plan Amount"),i.a.createElement(m.S,{type:"text",value:l,onChange:this.handleUserChange,id:"plan-amount",name:"plan_amount",placeholder:"Plan Amount"}))),i.a.createElement(m.u,{xs:"2"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"plan-gst"},"GST"),i.a.createElement(m.xb,{custom:!0,name:"plan_gst",onChange:this.handleUserChange,value:I,id:"plan-gst",placeholder:"GST"},i.a.createElement("option",{value:""},"select GST"),!!r&&r.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.gst_percent))}))))),i.a.createElement(m.u,{xs:"2"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"instllation-charge"},"Installation Charge"),i.a.createElement(m.xb,{custom:!0,onChange:this.handleUserChange,value:g,id:"instllation-charge",name:"installation_charge",placeholder:"Instllation Charge"},i.a.createElement("option",{value:""},"select Installation"),!!u&&u.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.installation_amount))}))))),i.a.createElement(m.u,{xs:"2"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"installation-gst"},"GST"),i.a.createElement(m.xb,{custom:!0,name:"installation_gst",onChange:this.handleUserChange,value:K,id:"installation-gst",placeholder:"GST"},i.a.createElement("option",{value:""},"select GST"),!!r&&r.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.gst_percent))}))))),i.a.createElement(m.u,{xs:"2"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"router-charge"},"Router Charge"),i.a.createElement(m.xb,{custom:!0,name:"router_charge",onChange:this.handleUserChange,value:p,id:"router-charge",placeholder:"Router Charge"},i.a.createElement("option",{value:""},"select Router"),!!h&&h.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.router_amount))}))))),i.a.createElement(m.u,{xs:"2"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"gst"},"GST"),i.a.createElement(m.xb,{custom:!0,name:"router_gst",onChange:this.handleUserChange,value:S,id:"router-gst",placeholder:"GST"},i.a.createElement("option",{value:""},"select GST"),!!r&&r.map((function(e){return i.a.createElement("option",{value:"".concat(e.id),key:"conn_".concat(e.id)},"".concat(e.gst_percent))})))))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{xs:"4"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"pay-plan-amount"},"Plan Amount"),i.a.createElement(m.S,{type:"text",value:_,onChange:this.handleUserChange,id:"pay-plan-amount",name:"advance_planamount",placeholder:"Plan Amount"}))),i.a.createElement(m.u,{xs:"4"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"pay-instllation-charge"},"Advance Instllation"),i.a.createElement(m.S,{type:"text",value:E,onChange:this.handleUserChange,id:"pay-instllation-charge",name:"advance_installationamount",placeholder:"Instllation Charge"}))),i.a.createElement(m.u,{xs:"4"},i.a.createElement(m.K,{variant:"checkbox",className:"checkbox"},i.a.createElement(m.T,{id:"pay-router-charge",name:"if_router_available",onChange:this.handleUserChange,checked:y}),i.a.createElement(m.cb,{htmlFor:"no-router-charge"},"No Router Charge")),i.a.createElement(m.K,null,i.a.createElement(m.S,{type:"text",value:v,onChange:this.handleUserChange,id:"pay-router-charge",name:"advance_routeramount",placeholder:"Router Charge"})))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{xs:"4"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"sub-total"},"SUBTOTAL"),i.a.createElement(m.S,{type:"text",disabled:!0,value:o,onChange:this.handleUserChange,id:"sub-total",name:"subtotal",placeholder:"sub-total"}))),i.a.createElement(m.u,{xs:"4"},i.a.createElement(m.K,null,i.a.createElement(m.cb,{htmlFor:"discount"},"Discount"),i.a.createElement(m.S,{type:"text",value:b,onChange:this.handleUserChange,id:"discount",name:"discount",placeholder:"Discount"})))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{md:"3"},i.a.createElement(m.cb,{htmlFor:"total"},"Total")),i.a.createElement(m.u,{xs:"12",md:"9"},i.a.createElement(m.S,{type:"text",value:x,disabled:!0,onChange:this.handleUserChange,id:"total",name:"total",placeholder:"Total"}))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{md:"3"},i.a.createElement(m.cb,{htmlFor:"paid-amount"},"Advance Amount")),i.a.createElement(m.u,{xs:"12",md:"9"},i.a.createElement(m.S,{type:"text",value:f,disabled:!0,onChange:this.handleUserChange,id:"paid-amount",name:"advance_amount",placeholder:"Paid"}))),i.a.createElement(m.K,{row:!0},i.a.createElement(m.u,{md:"3"},i.a.createElement(m.cb,{htmlFor:"balance-amount"},"Balance")),i.a.createElement(m.u,{xs:"12",md:"9"},i.a.createElement(m.S,{type:"text",value:C,disabled:!0,onChange:this.handleUserChange,id:"balance-amount",name:"balance_amount",placeholder:"Bill"}))))),i.a.createElement(m.l,null,i.a.createElement(m.f,{type:"reset",size:"sm",color:"danger",onClick:this.handleCancel},i.a.createElement(d.a,{name:"cil-ban"})," Cancel"),"\xa0",i.a.createElement(m.f,{type:"submit",size:"sm",color:"primary",onClick:this.handleSubmit},i.a.createElement(d.a,{name:"cil-scrubber"})," Add"))))))}}]),t}(s.Component);a.default=g}}]);
//# sourceMappingURL=28.cf2319ac.chunk.js.map